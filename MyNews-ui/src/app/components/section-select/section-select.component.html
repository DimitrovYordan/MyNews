@if (showSections) {
<div class="section-selection">
    <h2>Select News Sections</h2>

    <!-- Select All button -->
    <button type="button" (click)="toggleAll()">{{ selectAllButtonText }}</button>

    <!-- Checkboxes for each section -->
    <form>
        @for (section of sections; track section.id) {
        <div>
            <label>
                <input type="checkbox" [checked]="selectedSections.includes(section.id)"
                    (change)="toggleSelection(section.id)" />
                {{ section.name }}
            </label>
        </div>
        }
    </form>

    <!-- Save button -->
    <button type="button" (click)="saveSelection()" [disabled]="selectedSections.length === 0">
        Save
    </button>
</div>
}

<!-- Display news after selection -->
@if (!showSections) {
<div class="news-list">
    <h2>News</h2>

    @if (news.length === 0) {
    <div class="no-news">No news available for the selected sections.</div>
    } @else {
        <ul>
        @for (item of news; track item.id) {
        <li>
            <h3>{{ item.title }}</h3>
            <p>{{ item.content }}</p>
            <small>Published at: {{ item.publishedAt | date:'medium' }}</small>
        </li> }
    </ul>
    }    
</div>
}