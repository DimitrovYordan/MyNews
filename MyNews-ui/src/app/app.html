<div class="app-container">
    <nav class="navbar">
        <div class="nav-brand">My News</div>
        <div class="nav-buttons">
            @if(!isLoggedIn) {
            <ng-container>
                <button (click)="openLogin()">Log in</button>
                <button (click)="openSignup()">Sign up</button>
            </ng-container>
            } @else {
            <div class="user-menu" (click)="$event.stopPropagation(); toggleMenu()" [class.open]="isMenuOpen">
                <button class="user-avatar">{{ getInitials() }}</button>
                @if(isMenuOpen) {
                <div class="user-dropdown" (click)="$event.stopPropagation()">
                    <button (click)="goToProfile()">Profile</button>
                    <button (click)="logout()">Log out</button>
                </div>
                }
            </div>
            }
        </div>
    </nav>

    <main class="content">
        @if (showWelcomeText) {
        <div class="welcome-text">
            @if (!isLoggedIn) {
            <h1>Welcome to My News!</h1>
            <p>Stay updated with the latest news in different sections.</p>
            }
            @if (isLoggedIn && !hasSelectedSections) {
            <h1>Choose your favorite sections and see the news</h1>
            }
        </div>
        }

        <router-outlet></router-outlet>
    </main>

    <footer class="footer">
        <p>&copy; 2025 My News. All rights reserved.</p>
    </footer>
</div>